<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>House of Suntory - Virtual Bartender</title>
  
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600&family=DM+Sans:wght@400;500&display=swap" rel="stylesheet">
  <!-- Adobe Fonts - Futura PT -->
  <link rel="preconnect" href="https://use.typekit.net" crossorigin>
  <link rel="preconnect" href="https://p.typekit.net" crossorigin>
  <link rel="stylesheet" href="https://use.typekit.net/rfm8mfq.css">
  
  <!-- CSS Files -->
  <link rel="stylesheet" href="./css/common.css">
  <link rel="stylesheet" href="./css/landing.css">
  
  <style>
    /* Make screen always visible on standalone page */
    .screen {
      opacity: 1 !important;
      visibility: visible !important;
    }
  </style>
</head>
<body>
  <div class="app" role="main">
    <!-- LANDING SCREEN -->
    <section class="screen landing-screen active" id="landingScreen" aria-label="Welcome screen">
      <div class="landing-background" aria-hidden="true">
        <video class="landing-video" autoplay muted loop playsinline>
          <source src="./images/landing-vid.mp4" type="video/mp4">
        </video>
      </div>
      
      <div class="landing-content">
        <img src="./images/assets/logo-landing.png" alt="The House of Suntory" class="landing-logo" />
        <img src="./images/assets/VirtualBartender.png" alt="Virtual Bartender" width="100%" class="landing-title" />
      </div>
      
      <footer class="landing-footer">
        <p class="destination-prompt">Choose your vibe to get started</p>
        
        <div class="destination-grid" role="group" aria-label="Destination selection">
          <button 
            type="button"
            class="destination-btn destination-btn--default" 
            style="opacity: 0.5;"
            data-destination="izakaya"
            aria-label="Cocktail Bar - Start chat"
            tabindex="0"
          >
            Cocktail Bar
          </button>
          <button 
            type="button"
            class="destination-btn destination-btn--default" 
            style="opacity: 0.5;"
            data-destination="izakaya"
            aria-label="Izakaya - Start chat"
            tabindex="0"
          >
            Izakaya
          </button>
          <button 
            type="button"
            class="destination-btn destination-btn--default" 
            style="background-color: #966937; color: #FFF;"
            data-destination="listening-bar"
            aria-label="Listening Bar - Start chat"
            tabindex="0"
          >
            Listening Bar
          </button>
          <button 
            type="button"
            class="destination-btn destination-btn--default" 
            style="opacity: 0.5;"
            data-destination="speakeasy"
            aria-label="Speakeasy - Start chat"
            tabindex="0"
          >
            Speakeasy
          </button>
        </div>
      </footer>

      <div class="landing-footer-bottom">
        <p class="landing-footer-bottom-location">
          <img src="./images/assets/location.png" alt="Location Icon" width="18" height="18" /> NEW YORK, NY
        </p>
        <p class="landing-footer-bottom-text">
          Kissa Kissa
        </p>
      </div>
    </section>
  </div>

  <!-- Config (must load before modules) -->
  <script src="./config.js"></script>
  
  <!-- Ensure fonts load on iOS -->
  <script>
    // Wait for fonts to load, especially important for iOS Safari
    if (document.fonts && document.fonts.ready) {
      document.fonts.ready.then(() => {
        // Fonts are loaded
        document.documentElement.classList.add('fonts-loaded');
      }).catch(() => {
        // Fallback: assume fonts loaded after a delay
        setTimeout(() => {
          document.documentElement.classList.add('fonts-loaded');
        }, 1000);
      });
    } else {
      // Fallback for browsers without Font Loading API
      setTimeout(() => {
        document.documentElement.classList.add('fonts-loaded');
      }, 500);
    }
  </script>
  
  <script type="module">
    import { initLandingScreen } from './js/landing.js';
    
    // Initialize landing screen on page load
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', () => {
        initLandingScreen().catch(err => {
          console.error('Error initializing landing screen:', err);
        });
      });
    } else {
      initLandingScreen().catch(err => {
        console.error('Error initializing landing screen:', err);
      });
    }
  </script>
</body>
</html>
